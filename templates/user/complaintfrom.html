{% include "user/includes/header.html" %}

<script>
  function checkform() {
    checkloca()
    checkselect()
    checkpara()
  }
  function checkloca() {
    const inloca = document.getElementById('myloca')
    const error_loca = document.getElementById('local-error')
    error_loca.innerHTML = ""
    if (inloca.value.toString().length <= 10) {
      error_loca.innerHTML = "Please enter proper address"
      event.preventDefault()
    }
  }
  function checkselect() {
    const inselect = document.querySelector('select')
    let selectedOption = inselect.options[inselect.selectedIndex];
    const error_select = document.getElementById('error-select')
    error_select.innerHTML = ""
    if (selectedOption.value === "----select----") {
      error_select.innerHTML = "Please select proper issue"
      event.preventDefault()
    }
  }
  function checkpara() {
    const inpara = document.getElementById('mypara')
    const error_para = document.getElementById('error-para')
    error_para.innerHTML = ""
    if (inpara.value.toString().length <= 15) {
      error_para.innerHTML = "Please enter proper message"
      event.preventDefault()
    }
  }
</script>

<section class="inner-page">
    <div class="container ">
    <div class="container " >
          <h2 class="text-center">What Is You Complaint</h2>
          <div class="row ">
          <div class="col-md-6 offset-md-3">
            <form action="" class="shadow-lg p-4" method="POST" enctype="multipart/form-data" onsubmit="checkform()">
              {% csrf_token %}
              <div class="form-group">
                <label for="course_img">Profile Image</label>
                <input type="file" class="form-control-file" id="photo" name="photo" required>
              </div>
            <div class="form-group">
              <i class="fas fa-user"></i> <label for="address" class="font-weight-bold pl-2">Location Of Issue</label>
              <input type="textbox" class="form-control" placeholder="Address" name="address"  required id="myloca" onblur="checkloca()">
              <p id="local-error"></p>
            </div>
            <div class="font-weight-bold pl-2">
              <label for="inputState">Subject</label>
              <select class="form-control" name="subject" required id="myselect" onchange="checkselect()">
                <option value="----select----">----select----</option>
                <option value="Cleaniness of Village">Cleaniness of Village</option>
                <option value="Maintenance and construction of water resources">Maintenance and construction of water resources</option>
                <option value="Roads Drainage">Roads Drainage</option>
                <option value="Electricity Problem">Electricity Problem</option>
                <option value="Lack of Facilities">Lack of Facilities</option>
                <option value="medical Facilities are not Available">medical Facilities are not Available</option>
                <option value="Complaints about Wells, Tanks & Pits">Complaints about Wells, Tanks & Pits</option>
                <option value="Lack of a Awarness in Goverment Policy">Lack of a Awarness in Goverment Policy</option>
                <option value="Transportation Problem">Transportation Problem</option>
                <option value="Street Light problem">Street Light problem</option>
              </select>
            </div>
            <p id="error-select"></p>
           
           <div class="form-group">
              <i class="fas fa-user"></i> <label for="masg" class="font-weight-bold pl-2">Message</label>
                <textarea class="form-control" placeholder="Message" name="mesg" rows="4" cols="50" required id="mypara" onblur="checkpara()"></textarea>
                <p id="error-para"></p>
            </div>
            <div class="form-group">
             </label><input type="hidden" class="form-control" name="alert1" value="ComplaintNot_solved" >
            </div>
            <button type="submit" class="btn btn-primary mt-5 btn-block shadow-sm font-weight-bold" name="submit">Submit</button>
            
            </form>
          </div>
          </div>
        </div>
    </div>
</section>

{% include "user/includes/footer.html" %}